[% PROCESS inc/form.html %]
[% PROCESS inc/render.html %]

<form method="GET">
    <div>
        Status: [% INCLUDE checkbox name="status_not" %] all but
        [% INCLUDE select name="status" pairs=status_pairs noopt="-- Select status --" selected=form.raw %]
        [% INCLUDE select name="has_solution" selected=form.raw pairs=
            [['', '-- Select solution --'], [0, 'Without solution'], [1, 'Solution proposed']] %]
    </div>
    <div>
    Date range: [% PROCESS input name="date_from" width=10 %] .. 
        [% PROCESS input name="date_to" width=10 %]
    </div>
    <div>
    Sort by:
    [% INCLUDE select name="order_by" selected=form.raw pairs=order_options %]
    [% INCLUDE select name="order_dir" selected=form.raw pairs=[["DESC", "down"], ["ASC", "up"]] %]
    [% INCLUDE select name="limit" selected=form.raw pairs=[[10,10], [20, 20], [50, 50]] noopt="Results per page" %]
    </div>
    <div>
    <input type="submit" value="Get report">
    <a href="/report">Reset form</a>
    </div>
</form>
[% IF stat %]
    <h3>Found [% stat.n %] issues.</h3>
[% END %]

[% FOREACH item IN table_data %]
    [% INCLUDE render_link %]
[% END %]
